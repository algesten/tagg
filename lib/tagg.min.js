(function(){var t,e,n,r,o,u,a,i,l,c,s,f,p,d,m,h,g,b=[].slice;l=function(t){return!!t&&"object"==typeof t&&t.constructor===Object},s=function(t){return"string"==typeof t},c=function(t){var e;return"boolean"==(e=typeof t)||"number"===e||"string"===e||"symbol"===e},i=function(t){return"function"==typeof t},p=function(t){return function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],!t.apply(null,e)}},f=function(){var t,e,n,r,o,u,a;for(n=1<=arguments.length?b.call(arguments,0):[],r={},u=0,a=n.length;a>u;u++){e=n[u];for(t in e)o=e[t],r[t]=o}return r},r={},"allowfullscreen,async,autofocus,autoplay,checked,controls,default,defer,disabled,formnovalidate,hidden,ismap,itemscope,loop,multiple,muted,novalidate,open,readonly,required,reversed,scoped,seamless,selected,sortable,typemustmatch,html".split(",").forEach(function(t){return r[t]=!0}),u=function(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},a=function(t){return u(t).replace(/"/g,"&quot;")},e=function(t,e){return r[t]?e?""+a(t):"":a(t)+'="'+a(e)+'"'},n=function(t){var n,r;return function(){var o;o=[];for(n in t)r=t[n],o.push(e(n,r));return o}().join(" ")},g=function(t,e){return i(e)?g(t,e.call(t)):c(e)?d.text(String(e)):void 0},d=null,m=function(e,n,r){var u;return null==r&&(r=!1),u=function(){var a,c,s,m,h,y;if(a=1<=arguments.length?b.call(arguments,0):[],!d)return o(new t,u,a);for(m=a.filter(l).reduce(function(t,e){return f(t,e)},{}),s=a.filter(p(l)).map(function(t){return i(t)?t:function(){return t}}),r||d.begin(e,n,m),h=0,y=s.length;y>h;h++)c=s[h],g(this,c);return void(n||d.close(e))}},t=function(){function t(){this.buf=[]}return t.prototype.start=function(){},t.prototype.begin=function(t,e,r){var o;return this.buf.push("<"+t+((o=n(r)).length?" "+o:"")+">")},t.prototype.text=function(t){return this.buf.push(u(t))},t.prototype.close=function(t){return this.buf.push("</"+t+">")},t.prototype.end=function(){return this.buf.join("")},t}(),o=function(t,e,n){try{d=t,d.start(),e.apply(this,null!=n?n:[])}finally{d=null}return t.end()},h={tag:m,capture:o},"html,head,style,title,address,article,body,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,blockquote,dd,div,dl,dt,figcaption,figure,li,main,ol,p,pre,ul,a,abbr,b,bdi,bdo,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,audio,map,video,iframe,object,canvas,noscript,script,del,ins,caption,colgroup,table,tbody,td,tfoot,th,thead,tr,button,datalist,fieldset,form,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,decorator,element,shadow,template".split(",").forEach(function(t){return h[t]=m(t)}),"area,base,br,col,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(",").forEach(function(t){return h[t]=m(t,!0)}),h.pass=m("pass",!0,!0),h.html5=function(){var t;return t=1<=arguments.length?b.call(arguments,0):[],m("!DOCTYPE",!0)({html:!0},"\n",function(){return h.html.apply(h,t)})},"object"==typeof module?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this.tagg=h}).call(this);